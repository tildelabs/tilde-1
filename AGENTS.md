# Repository Guidelines

This repo is a React + Framework7 + Capacitor app built with Vite and TypeScript.

## Project Structure & Module Organization
- `src/app/`: application shell, routing, and Framework7 setup.
- `src/features/`: feature modules (chat, onboarding, settings, conversations).
- `src/components/`: shared UI components.
- `src/brain/`: LLM API integration and prompt definitions.
- `src/storage/`: Dexie database, settings, and persistence helpers.
- `src/lib/`: shared utilities and helpers.
- `public/`: static assets (icons, images, fonts).
- `ios/`: native iOS project generated by Capacitor.
- `index.html`: Vite entry; build output goes to `dist/`.

## Build, Test, and Development Commands
- `npm install`: install dependencies.
- `npm run dev`: start the Vite dev server for local development.
- `npm run build`: TypeScript project build (`tsc -b`) and production bundle to `dist/`.
- `npm run preview`: serve the production build locally.
- `npm run cap:sync`: sync web assets and plugins into `ios/`.
- `npm run cap:open`: open the iOS project in Xcode.
- `npm run cap:build`: build then sync (handy before running on device).

## Coding Style & Naming Conventions
- Indentation is 2 spaces, single quotes, and no semicolons; follow existing formatting.
- React components use PascalCase in `.tsx` (e.g., `ChatView.tsx`).
- Functions and hooks use camelCase in `.ts`.
- Use the `@/` path alias for `src/` imports.
- Styling is primarily Tailwind utility classes with shared styles in `src/index.css`.

## Testing Guidelines
- No automated test runner or `npm test` script is configured yet.
- Use `npm run build` for TypeScript typechecks and `npm run dev` for manual UI verification.
- If adding tests, colocate with features and use `*.test.ts` or `*.test.tsx` naming.

## Commit & Pull Request Guidelines
- Commit messages are short, sentence case, and descriptive (e.g., "Convert PWA to native iOS app with Framework7 + Capacitor").
- Pull requests should include: a concise summary, testing notes/commands run, and screenshots for UI changes.
- Call out any iOS-specific steps performed (e.g., `npm run cap:sync`).

## Security & Configuration Tips
- API keys are stored in local app settings via Dexie (`src/storage/settings.ts`); never commit secrets.
- Platform configuration lives in `capacitor.config.ts`; update both web and iOS details when changing app metadata.
